<!doctype html>
<html lang="en" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Upload · PrintBit</title>
    <link rel="stylesheet" href="/output.css" />
  </head>
  <body class="h-full bg-kiosk-body text-white antialiased">
    <!-- Background blobs -->
    <div class="kiosk-bg" aria-hidden="true">
      <div class="bg-circle bg-circle--1"></div>
      <div class="bg-circle bg-circle--2"></div>
      <div class="bg-circle bg-circle--3"></div>
    </div>

    <main class="upload-shell">
      <div class="upload-card" aria-labelledby="uploadTitle">
        <!-- Header -->
        <header class="card-header">
          <div class="brand-mark">
            <svg viewBox="0 0 32 32" aria-hidden="true">
              <rect
                x="7"
                y="4"
                width="18"
                height="11"
                rx="2"
                fill="currentColor"
              />
              <rect
                x="4"
                y="12"
                width="24"
                height="14"
                rx="3"
                fill="currentColor"
                opacity=".8"
              />
              <rect x="7" y="20" width="18" height="10" rx="2" fill="#0e0d1f" />
              <rect
                x="10"
                y="23"
                width="12"
                height="2"
                rx="1"
                fill="currentColor"
                opacity=".6"
              />
              <rect
                x="10"
                y="27"
                width="8"
                height="2"
                rx="1"
                fill="currentColor"
                opacity=".4"
              />
              <circle cx="23" cy="17.5" r="2" fill="var(--peach)" />
            </svg>
          </div>
          <div>
            <h1 id="uploadTitle" class="card-title">Send to PrintBit</h1>
            <p class="card-sub">
              PDF, DOC, and DOCX · up to 25 MB each
            </p>
          </div>
        </header>

        <div class="card-divider"></div>

        <!-- Session status strip -->
        <div class="session-strip" id="sessionStrip">
          <span class="session-strip__dot" id="sessionDotUpload"></span>
          <span class="session-strip__text" id="sessionMetaUpload"
            >Connecting to session…</span
          >
          <button
            id="retrySessionButton"
            type="button"
            class="retry-btn"
            aria-label="Retry session"
          >
            <svg viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
              <path
                fill-rule="evenodd"
                d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601
                2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1
                0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0
                0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002
                7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"
                clip-rule="evenodd"
              />
            </svg>
            Retry
          </button>
        </div>

        <!-- Drop zone -->
        <form id="uploadForm" novalidate>
          <div
            id="dropZone"
            class="drop-zone"
            role="button"
            tabindex="0"
            aria-label="Upload area — tap or drag files here"
          >
            <div class="drop-zone__icon" aria-hidden="true">
              <svg viewBox="0 0 48 48" fill="none">
                <circle
                  cx="24"
                  cy="24"
                  r="22"
                  fill="currentColor"
                  opacity=".07"
                />
                <path
                  d="M24 32V18M24 18l-6 6M24 18l6 6"
                  stroke="currentColor"
                  stroke-width="2.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M14 36h20"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  opacity=".5"
                />
              </svg>
            </div>
            <p class="drop-zone__label">
              <span class="drop-zone__browse">Tap to browse</span>
              <span class="drop-zone__or"> or drag files here</span>
            </p>
            <p class="drop-zone__hint">Multiple files supported</p>
            <!-- Disable first `.xls`, `.xlsx`, `.ppt`, and `.pptx` -->
            <input
              id="fileInput"
              name="file"
              type="file"
              accept=".pdf,.doc,.docx"
              multiple
              class="drop-zone__input"
              aria-hidden="true"
              tabindex="-1"
            />
          </div>

          <!-- File queue -->
          <div
            class="file-queue"
            id="fileQueue"
            aria-live="polite"
            aria-label="Selected files"
          >
            <!-- Populated by JS -->
          </div>

          <!-- Upload button -->
          <button id="uploadButton" type="submit" class="upload-btn" disabled>
            <svg viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
              <path
                fill-rule="evenodd"
                d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0
                01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0
                01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0
                01-1.414 0z"
                clip-rule="evenodd"
              />
            </svg>
            <span id="uploadBtnLabel">Send to Kiosk</span>
          </button>
        </form>

        <!-- Global status message -->
        <div
          id="statusBox"
          class="status-box"
          role="status"
          aria-live="polite"
        ></div>
      </div>
    </main>

    <script>
      window.uploadToken = "{{token}}";
    </script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="app.js"></script>
  </body>
</html>
